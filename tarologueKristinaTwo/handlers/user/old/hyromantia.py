from aiogram import types
from keyboards.user import inline
from loader import dp
from ..menu import start

WORKER_NAME = "–í–∞–ª–µ—Ä–∏–∏"
WORKER_USERNAME = "tarolog_va1eria"

hyromantia_buttons = {
    "0": {
        "text": "–î–µ—Ç—Å–∫–∏–π üëßüèªüë¶üèºüßíüèΩ",
        "description": """
1 –∫–Ω–æ–ø–∫–∞

–î–µ—Ç—Å–∫–∏–π üëßüèªüë¶üèºüßíüèΩ

–î–µ—Ç—Å–∫–∏–π —Ä–∞–∑–±–æ—Ä —è –¥–µ–ª–∞—é –¥–ª—è –¥–µ—Ç–µ–π –æ—Ç 1 –≥–æ–¥–∞ –∏ –¥–æ 14 –ª–µ—Ç, —á—Ç–æ –æ–Ω –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:
 ‚Ä¢ <b>–û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</b> (–∫–∞–∫–∏–º –≤—ã—Ä–∞—Å—Ç–µ—Ç —Ä–µ–±–µ–Ω–æ–∫, –∫–∞–∫–∏–µ —á–µ—Ä—Ç—ã –µ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ –ø—Ä–æ—è–≤–ª–µ–Ω—ã –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ)
 ‚Ä¢ <b>–ü–ª–∞–Ω–µ—Ç—ã –≤ ¬´+¬ª</b> (–∫–∞–∫–∏–µ –ø–ª–∞–Ω–µ—Ç—ã –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–µ–±–µ–Ω–∫–∞ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ)
 ‚Ä¢ <b>–ü–ª–∞–Ω–µ—Ç—ã –≤ ¬´-¬ª</b> (–∫–∞–∫–∏–µ –ø–ª–∞–Ω–µ—Ç—ã –≤–ª–∏—è—é—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ –µ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä)
 ‚Ä¢ <b>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</b> (–≤ –∫–∞–∫–∏—Ö —Å—Ñ–µ—Ä–∞—Ö —Å—Ç–æ–∏—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Ä–µ–±–µ–Ω–∫–∞, –≤ –∫–∞–∫–∏—Ö —Å—Ñ–µ—Ä–∞—Ö –æ–Ω –Ω–µ —Å–º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)
 ‚Ä¢ <b>–ö–∞—Ä–º–∞ –ø—Ä–æ—à–ª–æ–π –∂–∏–∑–Ω–∏</b> (–∫–∞–∫–æ–π –∫–∞—Ä–º–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ –µ–º—É —Å–ª–µ–¥—É–µ—Ç –≤–µ—Ä–Ω—É—Ç—å, —Å –∫–∞–∫–∏–º–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏ —Å—Ç–æ–ª–∫–Ω–µ—Ç—Å—è –≤ —ç—Ç–æ–π –∂–∏–∑–Ω–∏, —Å —á–µ–º –µ–º—É —Å—Ç–æ–∏—Ç –ø–æ–º–æ—á—å)
+ 1 –≤–æ–ø—Ä–æ—Å
–ü—Ä–∏–º–µ—Ä: –ö–æ–≥–¥–∞ —Å—Ç–∞–Ω–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–º?
–ü–æ—á–µ–º—É —É –Ω–µ–≥–æ –ø—Ä–æ–±–ª–µ–º—ã –≤ —É—á–µ–±–µ?
–∏ –¥—Ä—É–≥–∏–µ. –ó–∞ –∫–∞–∂–¥—ã–π –ø–æ—Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –¥–æ–ø–ª–∞—Ç–∞ 150 —Ä—É–±–ª–µ–π 

–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–µ—Ç—Å–∫–æ–≥–æ —Ä–∞–∑–±–æ—Ä–∞: <b>999</b> —Ä—É–±–ª–µ–π.

–ü–∏—à–∏ –º–Ω–µ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è ¬´–î–µ—Ç—Å–∫–∏–µ –ª–∞–¥–æ–Ω–∏¬ª üëáüèº

@{worker}
"""
    },
    "1": {
        "text": "–í–∑—Ä–æ—Å–ª—ã–π üë®üèª‚Äçü¶±üë©üèº",
        "description": """
–í–∑—Ä–æ—Å–ª—ã–π —Ä–∞–∑–±–æ—Ä —è –¥–µ–ª–∞—é —Å 14 –ª–µ—Ç. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:
 ‚Ä¢ <b>–û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</b> (–∫–∞–∫ –≤–∞—Å –≤–∏–¥—è—Ç –æ–∫—Ä—É–∂–∞—é—â–∏–µ, —Ç–æ –∫–∞–∫ –≤—ã —Å–µ–±—è –æ—â—É—â–∞–µ—Ç–µ, –≤–∞—à–∏ —Å–∫—Ä—ã—Ç—ã–µ —á–µ—Ä—Ç—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞. –ß—Ç–æ —Å—Ç–æ–∏—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤ —Å–µ–±–µ, –∞ —á—Ç–æ –ª—É—á—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å)
 ‚Ä¢ <b>–ü–ª–∞–Ω–µ—Ç—ã –≤ ¬´+¬ª</b> (–∫–∞–∫–∏–µ –ø–ª–∞–Ω–µ—Ç—ã –≤–ª–∏—è—é—Ç –Ω–∞ –≤–∞—Å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ)
 ‚Ä¢ <b>–ü–ª–∞–Ω–µ—Ç—ã –≤ ¬´-¬ª</b> (–∫–∞–∫–∏–µ –ø–ª–∞–Ω–µ—Ç—ã –≤–ª–∏—è—é—Ç –Ω–∞ –≤–∞—Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ)
 ‚Ä¢ <b>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</b> (–≤ –∫–∞–∫–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –≤—ã —Ç–æ—á–Ω–æ –ø—Ä–∏—É—Å–ø–µ–µ—Ç–µ)
 ‚Ä¢ <b>–ö–∞—Ä–º–∞ –ø—Ä–æ—à–ª–æ–π –∂–∏–∑–Ω–∏</b> (—á—Ç–æ –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –ø—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å ¬´—Ö–≤–æ—Å—Ç—ã¬ª –ø—Ä–æ—à–ª–æ–π –∂–∏–∑–Ω–∏, —á—Ç–æ —Å–ª–µ–¥—É–µ—Ç —É–∫—Ä–µ–ø–∏—Ç—å –≤ —Å–µ–±–µ, —á—Ç–æ–±—ã –¥–æ–±–∏—Ç—å—Å—è —É—Å–ø–µ—Ö–∞ –ø—Ä–æ—à–ª–æ–π –∂–∏–∑–Ω–∏)
 ‚Ä¢ <b>–ö–∞—Ä–º–∞ —ç—Ç–æ–π –∂–∏–∑–Ω–∏</b> (–∫–∞–∫ –∏—Å–ø–æ—Ä—Ç–∏–ª–∞—Å—å –∫–∞—Ä–º–∞ —ç—Ç–æ–π –∂–∏–∑–Ω–∏)
 ‚Ä¢ <b>–í–∞—à–∏ —Ç–µ–Ω–µ–≤—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</b> (—Ç–æ –æ—Ç —á–µ–≥–æ –≤—ã –∑–∞–≤–∏—Å–∏—Ç–µ, –≤–∞—à–∏ –≥—Ä–µ—Ö–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã)
+ 2 –≤–æ–ø—Ä–æ—Å–∞
–ü—Ä–∏–º–µ—Ä:
–ö–æ–≥–¥–∞ —Ä–∞–∑–±–æ–≥–∞—Ç–µ—é?
–ö–æ–≥–¥–∞ –≤ –º–æ—é –∂–∏–∑–Ω—å –ø—Ä–∏–π–¥–µ—Ç ¬´—Ç–æ—Ç —Å–∞–º—ã–π¬ª ?
–∏ –¥—Ä—É–≥–∏–µ. –ó–∞ –∫–∞–∂–¥—ã–π –ø–æ—Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å 150 —Ä—É–±–ª–µ–π. –í–æ–ø—Ä–æ—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ –Ω–∞ –∫–æ—Ä–æ—Ç–∫–∏–π —Å—Ä–æ–∫, —Ç–∞–∫ –∏ –Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω—ã–π.
–°—Ç–æ–∏–º–æ—Å—Ç—å –≤–∑—Ä–æ—Å–ª–æ–≥–æ —Ä–∞–∑–±–æ—Ä–∞: <b>1499</b> —Ä—É–±–ª–µ–π.

–ü–∏—à–∏ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è ¬´–í–∑—Ä–æ—Å–ª—ã–µ –ª–∞–¥–æ–Ω–∏¬ª üëáüèº
@{worker}
""",
    },
    "2": {
        "text": "–ú–∏–Ω–∏ —Ä–∞–∑–±–æ—Ä üë®‚Äçüë©‚Äçüë¶",
        "description": """
–≠—Ç–æ—Ç —Ä–∞–∑–±–æ—Ä –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞. –í –Ω–µ–≥–æ –≤—Ö–æ–¥–∏—Ç 
 ‚Ä¢ <b>–û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</b> (–∫–∞–∫ –≤–∞—Å –≤–∏–¥—è—Ç –æ–∫—Ä—É–∂–∞—é—â–∏–µ, —Ç–æ –∫–∞–∫ –≤—ã —Å–µ–±—è –æ—â—É—â–∞–µ—Ç–µ, –≤–∞—à–∏ —Å–∫—Ä—ã—Ç—ã–µ —á–µ—Ä—Ç—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞. –ß—Ç–æ —Å—Ç–æ–∏—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤ —Å–µ–±–µ, –∞ —á—Ç–æ –ª—É—á—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å)
 ‚Ä¢ <b>–ü–ª–∞–Ω–µ—Ç—ã –≤ ¬´+¬ª</b> (–∫–∞–∫–∏–µ –ø–ª–∞–Ω–µ—Ç—ã –≤–ª–∏—è—é—Ç –Ω–∞ –≤–∞—Å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ)
 ‚Ä¢ <b>–ü–ª–∞–Ω–µ—Ç—ã –≤ ¬´-¬ª</b> (–∫–∞–∫–∏–µ –ø–ª–∞–Ω–µ—Ç—ã –≤–ª–∏—è—é—Ç –Ω–∞ –≤–∞—Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ)

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –∫–∞–∫–∏–µ-–ª–∏–±–æ –≤–æ–ø—Ä–æ—Å—ã 
–ü—Ä–∏–º–µ—Ä:
–°—Ç–æ–∏—Ç –ª–∏ –º–µ–Ω—è—Ç—å —Ä–∞–±–æ—Ç—É?
–°—Ç–æ–∏–º–æ—Å—Ç—å 150 —Ä—É–±–ª–µ–π. –ò —Ç–∞–∫ –∂–µ –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ.

–°—Ç–æ–∏–º–æ—Å—Ç—å –º–∏–Ω–∏ —Ä–∞–∑–±–æ—Ä–∞ <b>499</b>. —Ä—É–±–ª–µ–π.
–ï—Å–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π —Ä–∞–∑–±–æ—Ä, –µ–≥–æ —Å—Ç–æ–∏–º–æ—Å—Ç—å 1000 —Ä—É–±–ª–µ–π.

–ü–∏—à–∏ –≤ –ª–∏—á–Ω—ã–µ ¬´–ú–∏–Ω–∏ –ª–∞–¥–æ–Ω–∏¬ª üëáüèº
@{worker}
""",
    },
}

HYROMANTIA_DESCRIPTION = """
–•–∏—Ä–æ–º–∞–Ω—Ç–∏—è 

–í–∞—à–∏ –ª–∞–¥–æ–Ω–∏, –≤—ã –∫–æ–≥–¥–∞ –Ω–∏–±—É–¥—å –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–ª–∏—Å—å –∏–º–∏???
–ê —á—Ç–æ –µ—Å–ª–∏ —è —Å–∫–∞–∂—É, —á—Ç–æ –ª–∞–¥–æ–Ω–∏ –≤—Ç–æ—Ä—ã–µ –≥–ª–∞–∑–∞ —á–µ–ª–æ–≤–µ–∫–∞. –ß—Ç–æ –Ω–∞ –Ω–∏—Ö —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –≤–∞—à–∞ –¥—É—à–∞.
–ê –µ—Å–ª–∏ —è –≤–∞–º —Ä–∞—Å—Å–∫–∞–∂—É –¥–∞–∂–µ –±–æ–ª—å—à–µ, —á–µ–º –≤—ã —Å–∞–º–∏ –∑–Ω–∞–µ—Ç–µ –æ —Å–µ–±–µ.

–ê —á—Ç–æ –∂–µ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å? ü§î <b>–í–°–ï!</b>
–ö–æ–≥–¥–∞ —É –≤–∞—Å —Ä–æ–¥–∏—Ç—Å—è —Ä–µ–±–µ–Ω–æ–∫ - <b>–ª–µ–≥–∫–æ</b>
–ö–æ–≥–¥–∞ –∑–∞–º—É–∂ - <b>—ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ</b>
–ö–æ–≥–¥–∞ –±–∏–∑–Ω–µ—Å –ø–æ–ø—Ä–µ—Ç –≤ –≥–æ—Ä—É - <b>–ø—Ä–æ—â–µ –ø—Ä–æ—Å—Ç–æ–≥–æ</b>

–•–æ—á–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ –ª—é–±–æ–π –∏–∑ —ç—Ç–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –Ω–∞ –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –¥—Ä—É–≥–∏—Ö?

–•–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –∫–∞–∫ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å —Å–≤–æ–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –∏ —É–∑–Ω–∞—Ç—å –∫–∞–∫–æ–π –æ–Ω –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ?

üëáüèºüëáüèºüëáüèº <b>–≤—ã–±–∏—Ä–∞–π –∫–Ω–æ–ø–∫—É –ø–æ –¥—É—à–µ </b>üëáüèºüëáüèºüëáüèº
"""


async def list_buttons(callback: types.CallbackQuery, worker: str, **kwargs):
    await callback.message.edit_caption(
        caption=HYROMANTIA_DESCRIPTION,
        reply_markup=types.InlineKeyboardMarkup(row_width=1).add(
            *[
                types.InlineKeyboardButton(
                    text=value["text"],
                    callback_data=inline.make_hyromantia_cd(
                        level=2, worker=worker, content_type=key
                    ),
                )
                for key, value in hyromantia_buttons.items()
            ],
            types.InlineKeyboardButton(
                text="–ù–∞–∑–∞–¥",
                callback_data=inline.make_hyromantia_cd(level=0, worker=worker),
            ),
        ),
    )


async def show_button(
    callback: types.CallbackQuery, worker: str, content_type: str, content_page: str
):
    await callback.message.edit_caption(
        hyromantia_buttons[content_type]["description"].format(worker=worker),
        reply_markup=types.InlineKeyboardMarkup(row_width=1).add(
            types.InlineKeyboardButton(
                text="–ù–∞–∑–∞–¥",
                callback_data=inline.make_hyromantia_cd(level=1, worker=worker),
            )
        ),
    )


@dp.callback_query_handler(inline.hyromantia_cd.filter())
async def hyromantia_navigate(callback: types.CallbackQuery, callback_data: dict) -> None:
    level = callback_data.get("level")
    worker = callback_data.get("worker")
    content_type = callback_data.get("content_type")
    content_page = callback_data.get("content_page")

    levels = {"0": start, "1": list_buttons, "2": show_button}

    current_level_function = levels[level]

    await current_level_function(
        callback, worker=worker, content_type=content_type, content_page=content_page
    )
